 {# ? Partie : Gestion des utilisateurs #ModeAdmin #}

 {% extends 'base.html.twig' %}
     
     {% block metaTitle %}
         " Gestion des utilisateurs "
     {% endblock %}

     {% block title %}
         Gestion des utilisateurs
     {% endblock %}
     
     {% block body %}

         <main class="Form"> 

             <section class="text-center">
    
                 <h1 class=" mb-3 font-weight-normal"> Gestion des utilisateurs </h1>
         
                 <p class="lead"> 
                     <em> Consulter la liste des utlisateurs de votre site et administrer leurs droits. </em>  ðŸ‘¤
                 </p>

             </section>
  
             <article>
    
                 <table class="table table-dark table-hover">

                     <thead>

                         <tr>
                             <th> Id </th>
                             <th> Pseudo </th>
                             <th> Roles </th>
                             <th> Mot de passe </th>
                             <th> Avatar </th>
                             <th> Email </th>
                             <th> Actions </th>
                         </tr>

                     </thead>

                     <tbody>

                     {% for user in users %}

                         <tr>

                             <td> {{ user.id }} </td>
                             <td> {{ user.login }} </td>
                             <td> {{ user.roles ? user.roles|json_encode : '' }} </td>
                             <td> {{ user.password }} </td>
                             <td> {{ user.avatar }} </td>
                             <td> {{ user.email }} </td>

                             <td>
                            
                                 <section class="btn-group">

                                     <a href="{{ path('user_show', {'id': user.id}) }}" type="submit" class="btn btn-success btn-lg px-4 gap-3 col-12">                                
                                         Voir
                                     </a>  
    
                                     <a href="{{ path('user_edit', {'id': user.id}) }}" type="submit" class="btn btn-success btn-lg px-4 gap-3 col-12">                                
                                         Modifier
                                     </a>   

                                 </section>    

                             </td>

                         </tr>

                         {% else %}

                             <tr>
                                 <td colspan="7"> Aucun Ã©lÃ©ment ne correspond Ã  votre recherche </td>
                             </tr>

                         {% endfor %}

                     </tbody>

                 </table>

             </article>
             
             <a href="{{ path('user_new') }}" class="btn btn-success col-12 btn-lg px-4 gap-3">
                 CrÃ©er un nouvel utilisateur
             </a>

         </main>

     {% endblock %}
     

     {# https://openclassrooms.com/fr/courses/1603881-apprenez-a-creer-votre-site-web-avec-html5-et-css3/1607171-creez-des-formulaires #}